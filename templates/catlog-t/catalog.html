<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>WinterWear | Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background: #0a0a0a;
            color: #fff;
            line-height: 1.6;
        }

        h1 {
            text-align: center;
            margin: 60px 0 40px;
            font-size: 42px;
            font-weight: 900;
        }

        .categories {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 60px;
        }

        .category {
            background: #111;
            border: 1px solid rgba(199,161,74,.4);
            color: #c7a14a;
            padding: 10px 22px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
        }

        .category:hover {
            background: #c7a14a;
            color: #000;
        }

        .products {
            max-width: 1400px;
            margin: 0 auto 80px;
            padding: 0 30px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
            gap: 30px;
        }

        .product {
            background: #0f0f0f;
            border: 1px solid #1a1a1a;
            border-radius: 14px;
            overflow: hidden;
            transition: 0.4s;
            display: flex;
            flex-direction: column;
        }

        .product:hover {
            transform: translateY(-8px);
            border-color: rgba(199,161,74,.4);
            box-shadow: 0 20px 40px rgba(0,0,0,.6);
        }

        .product img {
            width: 100%;
            height: 260px;
            object-fit: cover;
            border-bottom: 1px solid #1a1a1a;
        }

        .product-info {
            padding: 20px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .product-category {
            font-size: 11px;
            color: #c7a14a;
            letter-spacing: 2px;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .product h3 {
            font-size: 20px;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .product-description {
            font-size: 13px;
            color: #9ca3af;
            margin-bottom: 15px;
            line-height: 1.7;
        }

        .product-footer {
            margin-top: auto;
            padding-top: 15px;
            border-top: 1px solid #1a1a1a;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
        }

        .price {
            font-size: 24px;
            color: #c7a14a;
            font-weight: 900;
        }

        .add-to-cart {
            background: linear-gradient(135deg, #c7a14a, #d4af37);
            color: #000;
            border: none;
            padding: 10px 18px;
            font-size: 13px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.3s;
            border-radius: 6px;
            text-decoration: none;
        }

        .add-to-cart:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(199,161,74,.4);
        }

        .empty {
            text-align: center;
            color: #9ca3af;
            grid-column: 1 / -1;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 32px;
            }

            .product img {
                height: 220px;
            }
        }
    </style>
</head>
<body>

{% include "header.html" %}

<h1>Ø§Ù„ÙƒØªØ§Ù„ÙˆØ¬</h1>

<!-- Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª -->
<div class="categories">
    {% for category in categories %}
        <div class="category">{{ category.name }}</div>
    {% empty %}
        <p class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØµÙ†ÙŠÙØ§Øª</p>
    {% endfor %}
</div>

<!-- Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª -->
<div class="products">
    {% for product in products %}
        <div class="product">
            {% if product.image %}
                <img src="{{ product.image.url }}" alt="{{ product.name }}">
            {% endif %}

            <div class="product-info">
                <div class="product-category">
                    {{ product.category.name }}
                </div>

                <h3>{{ product.name }}</h3>

                <p class="product-description">
                    {{ product.description|default:"ÙˆØµÙ Ø§Ù„Ù…Ù†ØªØ¬ ØºÙŠØ± Ù…ØªÙˆÙØ± Ø­Ø§Ù„ÙŠØ§Ù‹" }}
                </p>

                <div class="product-footer">
                    <div class="price">{{ product.price }} Ø±.Ø³</div>

                    {% if user.is_authenticated %}
                        <a href="{% url 'add_to_cart' product.id %}" class="add-to-cart">
                            ğŸ›’ Ø£Ø¶Ù Ù„Ù„Ø³Ù„Ø©
                        </a>
                    {% else %}
                        <a href="{% url 'login' %}" class="add-to-cart">
                            Ø³Ø¬Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    {% empty %}
        <p class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>
    {% endfor %}
</div>

{% include "footer.html" %}

</body>
</html>
